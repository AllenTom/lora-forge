# 手册

## 运行需求

请确保以下软件已经安装:

| 名称                                | 版本    |
|-----------------------------------|-------|
| [Python](https://www.python.org/) | 3.10+ |
| [Git](https://git-scm.com/)       | 2.0+  |

## 安装

训练软件和训练脚本是分离的，可以单独更新训练脚本

训练脚本的仓库地址:

- 国内: ```https://gitee.com/takayamaaren/lora-core.git```
- 国外: ```https://github.com/AllenTom/lora_train_core.git```
  两个版本均可以手动下载并安装

### 使用软件进行安装

点击菜单->```设置```->```脚本管理```
![脚本管理](../assets/train-script-manage.png)
根据以下步骤安装脚本

1. 先指定训练脚本下载的路径
2. 点击```下载训练脚本```按钮,如果此路径下的内容不是空的，将会`删除所有内容`
3. 点击安装依赖，此步骤建议使用代理下进行安装
   ![脚本管理](../assets/install-dep.png)

观察安装过程中的内容输出

安装过程中如果出现问题，点击中断然后再次点击安装依赖即可
![脚本管理](../assets/install-dep-success.png)

### 手动安装

1. 下载仓库

```cmd
git clone <脚本仓库地址>
```

2. 在下载的文件夹中运行`setup.bat`，等待安装完成后即可

## 三个步骤完成训练
应用简化了很多的步骤，只需要简单的配置即可进行训练
![应用](../assets/main-ui.png)
1. 创建项目
菜单->```文件```->```打开```，选择一个文件夹作为项目文件夹
2. 导入训练集
菜单->```源文件```->```从文件夹导入```

这个操作会将文件夹内的所有图片导入到应用中
![应用](../assets/source-import-config.png)
点击导入即可
首次使用自动打标会下载模型，需要使用代理并且要一定的时间。

![应用](../assets/source-import-success.png)

3. 启动训练
点击左侧的面板切换到训练器，填入输出的模型名称后点击`保存训练配置`,点击`启动`即可
![应用](../assets/quick-train.png)

## 配置输出预览
## 配置
输出预览主要使用Stable diffusion webui 进行，需要配置额外的插件。

插件的安装地址:`https://github.com/AllenTom/sdw-launcher-plugin.git`

点击`设置`->`设置`

![应用](../assets/config-sdw.png)

## 启动
应用右下角点击后启动即可。在配置正确的情况下，会弹出命令行窗口。

# 项目
如果需要保存项目,可以点击菜单->```文件```->```保存```，保存后的项目可以在菜单->```文件```->```打开```中打开

# 数据集面板
## 创建数据集文件夹
菜单->```数据集```->```创建数据集```输入必要的信息
## 管理数据集内的图片
和文件管理器一致，使用`ctrl`或`shift`进行多项选择，点击`操作`进行基本的文件操作
## 标签
左侧的标签过滤器可以点击可以根据标签过滤当前文件夹内的内容，也可以删除标签。


# Q&A
### 如何设置代理
应用使用过程中有一些步骤需要下载模型，在无代理的情况下可能无法使用。

在`设置`->`设置`->`代理`选项中进行设置,地址类似于:`http://localhost:7890`

### 预训练模型下载太慢
默认的预训练模型首次使用时会下载，如果下载太慢可以使用代理进行下载。

也可选择已经下载好的模型,在配置时使用本地的路径
